#!/usr/bin/env php
<?php
/**
 * happy coding!!!
 */

use DevHelper\Plugin\CreatePlugin\CreatePluginCommand;
use DevHelper\Plugin\DicTree\GenerateDicTreeCommand;
use DevHelper\Plugin\PlantUML\GenerateClassDiagramCommand;

$autoloadFiles = [
    __DIR__ . '/../../../autoload.php',
    __DIR__ . '/../autoload.php',
    __DIR__ . '/../vendor/autoload.php',
];

foreach ($autoloadFiles as $file) {
    if (file_exists($file)) {
        require_once $file;
        break;
    }
}

! defined('BASE_PATH') && define('BASE_PATH', dirname(__DIR__, 1));
! defined('SRC_PATH') && define('SRC_PATH', BASE_PATH . '/src');
! defined('PLUGIN_PATH') && define('PLUGIN_PATH', SRC_PATH . '/Plugin');
! defined('BIN_PATH') && define('BIN_PATH', BASE_PATH . '/bin');
! defined('CONFIG_PATH') && define('CONFIG_PATH', SRC_PATH . '/Config');

//echo json_encode([
//    [
//        'name' => 'create-plugin',
//        'command' => str_replace('\\','\\',CreatePluginCommand::class),
//    ],
//    [
//        'name' => 'plantuml',
//        'command' => str_replace('\\','\\',GenerateClassDiagramCommand::class),
//    ],
//    [
//        'name' => 'dic-tree',
//        'command' => str_replace('\\','\\',GenerateDicTreeCommand::class),
//    ],
//]);die();

(new \DevHelper\Lib\Console\Application())->run();
